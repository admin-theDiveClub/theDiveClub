<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Bootstrap CSS -->     
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Import Supabase resources via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>    
    <!-- Browser Helpers -->
    <script src="../scripts/browserHelpers/script_mobile_hideToolBar.js"></script>
    <!--Custom CSS-->
    <link href="../stylesheets/stylesheet_main.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/leader-line@1.0.7/leader-line.min.js"></script>


    <title>TDC: Tournament</title>
    <link rel="icon" href="../resources/icon_TDC.ico">
</head>

<body>
    <div id="component-nav-bar"></div>

    <div id="component-nav-menu"></div>

    <div class="main">
        <!-- Edit Tournament Info -->
        <div class="card" id="t-info-edit">
            <div class="row" style="margin: 1rem;">
                <div class="col-md-4">
                    <div id="t-info-icon" style="height:100%; display:flex; align-items:center; justify-content:center;">
                        <img id="t-icon-img" src="../resources/icon_theDiveClub_alpha.svg" alt="Tournament Icon">
                    </div>
                </div>
                <div class="col-md-8">
                    <div id="t-info-content">
                        <div>
                            <label for="t-info-name" class="form-label t-info-label">Tournament Name</label>
                            <input id="t-info-name" class="form-control t-info-item" type="text" placeholder="Tournament Name">
                        </div>

                        <div>
                            <label for="t-info-max-entries" class="form-label t-info-label">Max Entries</label>
                            <input id="t-info-max-entries" class="form-control t-info-item" type="number" min="1" step="1" placeholder="0">
                        </div>

                        <div>
                            <label for="t-info-discipline" class="form-label t-info-label">Discipline</label>
                            <input id="t-info-discipline" class="form-control t-info-item" type="text" placeholder="Discipline">
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <label for="t-info-date" class="form-label t-info-label">Date</label>
                                <input id="t-info-date" class="form-control t-info-item" type="date">
                            </div>
                            <div class="col-md-6">
                                <label for="t-info-time" class="form-label t-info-label">Time</label>
                                <input id="t-info-time" class="form-control t-info-item" type="time">
                            </div>
                        </div>

                        <div>
                            <label for="t-info-location" class="form-label t-info-label">Location</label>
                            <input id="t-info-location" class="form-control t-info-item" type="text" placeholder="Location">
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <label for="t-info-coordinator-name" class="form-label t-info-label">Co-ordinator Name</label>
                                <input id="t-info-coordinator-name" class="form-control t-info-item" type="text" placeholder="Co-ordinator Name">
                            </div>
                            <div class="col-md-6">
                                <label for="t-info-coordinator-contact" class="form-label t-info-label">Co-ordinator Contact</label>
                                <input id="t-info-coordinator-contact" class="form-control t-info-item" type="text" placeholder="Co-ordinator Contact">
                            </div>
                        </div>

                        <div>
                            <label for="t-info-description" class="form-label t-info-label">Description</label>
                            <div id="t-info-description" class="form-control t-info-item" contenteditable="true" role="textbox" aria-multiline="true" style="min-height:140px; overflow:auto;"></div>
                        </div>                        
                    </div>                    
                </div>
            </div>
            <button class="btn-standard" id="t-info-edit-btn">Update Tournament Info</button>
        </div>

        <!-- View Tournament Info -->
        <div class="card" id="t-info-view">
            <div class="row">
                <div class="col-md-4">
                    <div id="t-info-icon" style="height:100%; display:flex; align-items:center; justify-content:center;">
                        <img id="t-icon-img" src="../resources/icon_theDiveClub_alpha.svg" alt="Tournament Icon">
                    </div>
                </div>
                <div class="col-md-8">
                    <div id="t-info-content">
                        <div id="t-info-name" class="t-info-item">Tournament Name</div>
                        <div id="t-info-max-entries" class="t-info-item">Max Entries</div>
                        <div id="t-info-discipline" class="t-info-item">Discipline</div>
                        <div id="t-info-date" class="t-info-item">Date</div>
                        <div id="t-info-time" class="t-info-item">Time</div>
                        <div id="t-info-location" class="t-info-item">Location</div>
                        <div id="t-info-coordinator-name" class="t-info-item">Co-ordinator Name</div>
                        <div id="t-info-coordinator-contact" class="t-info-item">Co-ordinator Contact</div>
                        <div id="t-info-description" class="t-info-item">Description</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Entries Control Panel -->
        <div class="card" id="t-entries-control">
            <table id="tbl-entries">
                <thead>
                    <tr>
                        <th colspan="3">
                            <label class="form-label" for="t-input-multiplePlayers">Add Mulitple Players</label>
                            <div class="input-group">
                                <textarea id="t-input-multiplePlayers" class="form-control" placeholder="Enter Player List" rows="1" aria-label="Enter text"></textarea>
                                <button class="btn btn-success" aria-label="Submit">
                                    Update<br>List<br>
                                </button>
                            </div>
                        </th>
                    </tr>
                    <tr>
                        <th colspan="3">
                            <label for="t-input-newEntry" class="form-label t-info-label">Add Single Entry</label>
                            <div class="input-group">
                                <input id="t-input-newEntry" class="form-control t-info-item" type="text" placeholder="Player Name / Username"></input>
                                <button class="btn btn-sm btn-success" aria-label="Move up">
                                    <i class="bi bi-plus"></i>
                                </button>
                            </div>
                        </th>
                    </tr>
                    <tr>
                        <th>#</th>
                        <th>Name</th>
                        <th>Confirmed</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Entries will be populated here -->
                    <tr>
                        <td>1</td>
                        <td>Long Name XXXXXXXXXX</td>
                        <td>
                            <input class="form-check-input" type="checkbox" id="option-check">
                            <label class="form-label tag" for="option-check">#1</label>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-danger">X</button>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    
                </tfoot>
            </table>
        </div>

        <div class="card" id="t-matches-control">

            <div class="row">
                <div class="col-md-4">
                    <table id="tbl-eligiblePlayers">                
                        <thead>
                            <tr>
                                <th colspan="2">
                                    <div class="d-flex align-items-center">
                                        <span class="me-2">Max Players</span>
                                        <input id="t-info-max-entries" class="form-control t-info-item" type="number" min="1" step="1" placeholder="0">
                                    </div>
                                </th>
                                <th>
                                    <div class="d-flex align-items-center">
                                        <span class="me-2">Lives Per Player</span>
                                        <input id="t-info-lives-per-player" class="form-control t-info-item" type="number" min="1" step="1" placeholder="0">
                                    </div>
                                </th>
                            </tr>
                            <tr>
                                <th>#</th>
                                <th>Player</th>
                                <th>Lives</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Player 1</td>
                                <td>3</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="col-md-2">
                    <table id="tbl-eligiblePlayers">                
                        <thead>
                            <th>Round</th>
                            <th>Matches</th>
                        </thead>

                        <tbody>
                            <tr>
                                <td><button class="btn-standard">Round 1</button></td>
                                <td>0 / 8</td>
                            </tr>
                        </tbody>

                        <tfoot>
                            <tr>
                                <td colspan="5">
                                    <button class="btn btn-sm btn-success" aria-label="New Round">
                                        <i class="bi bi-plus"></i>
                                    </button>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <div class="col-md-6">
                    <table id="tbl-eligiblePlayers">                
                        <thead>
                            <th colspan="5">Matches</th>
                        </thead>

                        <tbody>
                            <tr>
                                <td colspan="5">Round 1</td>
                            </tr>
                            <tr>
                                <td>Player_H</td>
                                <td><input id="m-score-H" class="form-control t-info-item" type="number" min="1" step="1" placeholder="0"></td>
                                <td><i class="bi bi-box-arrow-up-right"></i></td>
                                <td><input id="m-score-H" class="form-control t-info-item" type="number" min="1" step="1" placeholder="0"></td>
                                <td>Player_A</td>
                                <td><button class="btn btn-sm btn-danger">X</button></td>
                            </tr>                            
                        </tbody>

                        <tfoot>
                            <tr>
                                <td colspan="5">
                                    <button class="btn btn-sm btn-success" aria-label="New Match">
                                        <i class="bi bi-plus"></i>
                                    </button>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>            
        </div>

    </div>

    <style>
        #tbl-entries td, #tbl-entries th, #tbl-eligiblePlayers td, #tbl-eligiblePlayers th
        {
            border: 0.01rem solid var(--color-base-08);
            padding: 0.5rem;
            text-align: center;
        }

        #t-info-icon img
        {
            width: 100%;
            object-fit: contain;
            padding: 0rem;
        }

        #t-info-content
        {
            width: 100%;
            margin: 0rem;
        }

        .t-info-item
        {
            padding: 0.25rem 2rem;
            max-width: 100%;
            padding: 1rem;
        }

        .t-info-label
        {
            font-weight: bold;
            padding: 0.5rem 1rem;
        }
    </style>

    <div id="component-siteMap"></div>

    <div id="component-footer"></div>

    <!--Scripts-->
    <script src="../scripts/browserHelpers/script_includeComponents.js"></script>
    <script src="../scripts/UIControllers/nav-bar_controller.js"></script>

    <script src="../scripts/supabase/supaBase_client.js"></script>
    <script src="../scripts/tournaments/tournament_data.js" type="module"></script>
</body>
</html>