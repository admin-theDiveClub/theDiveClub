<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Bootstrap CSS -->     
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Import Supabase resources via CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>    
    <!-- Browser Helpers -->
    <script src="/scripts/browserHelpers/script_mobile_hideToolBar.js"></script>
    <!--Custom CSS-->
    <link href="/stylesheets/stylesheet_main.css" rel="stylesheet">   

    <script src="https://cdn.jsdelivr.net/npm/leader-line@1.0.7/leader-line.min.js"></script>
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <title>The Dive Club</title>
    <link rel="icon" href="/resources/icon_TDC.ico">
</head>

<body>
    <div id="visualization-container"></div>

    <div id="component-loading-overlay"></div>

    <div id="component-nav-bar"></div>

    <div id="component-nav-menu"></div>

    <div id="component-profile-menu"></div>

    <div id="component-login"></div>
    
    <div id="component-profile-mini"></div>

    <div class="main" style="color: var(--color-base-10);">      

        <div class="row" style="width: 100vw; padding: 0rem;">
            <div class="col-md-3" style="padding: 0rem;">
                <div id="container-profile">
                    <div class="row" style="padding-left: 1rem !important;">
                        <div class="col-4 col-md-12" id="container-profile-pp">
                            <img id="user-pp" src="/resources/icons/icon_player.svg" alt="Profile Picture">
                        </div>
                        <div class="col-8 col-md-12" id="container-profile-info">
                            <p id="user-displayName">Display Name</p>
                            <p id="user-name">Full Name</p>
                            <p id="user-username">Username</p>
                            <a id="link-edit-profile" href="/accounts/edit.html">Edit Profile</a>
                        </div>

                        <div class="col-6 col-md-12">
                            <table class="tbl-user-stats">
                                <tbody>
                                    <tr>
                                        <th>FP:</th>
                                        <th>FW:</th>
                                    </tr>
                                    <tr>
                                        <td id="user-fp">0</td>
                                        <td id="user-fw">0</td>
                                    </tr>
                                    <tr>
                                        <th>F%:</th>
                                        <td id="user-fpercent">0.00%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="col-6 col-md-12">
                            <table class="tbl-user-stats">
                                <tbody>
                                    <tr>
                                        <th>MP:</th>
                                        <th>MW:</th>
                                    </tr>
                                    <tr>
                                        <td id="user-mp">0</td>
                                        <td id="user-mw">0</td>
                                    </tr>
                                    <tr>
                                        <th>M%:</th>
                                        <td id="user-mpercent">0.00%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-12 col-md-12">
                            <table class="tbl-user-stats">
                                <tbody>
                                    <tr>
                                        <th >Avg. F <i class="bi bi-clock"></i>  :</th>
                                        <td id="user-avg-frame-time">00:00</td>
                                        <th >B/F:</th>
                                        <td id="user-bf">0</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-9">
                <ul class="nav nav-tabs" id="competitionTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="matches-tab" data-bs-toggle="tab" data-bs-target="#matches-content" type="button" role="tab">Matches</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="leagues-tab" data-bs-toggle="tab" data-bs-target="#leagues-content" type="button" role="tab">Leagues</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="tournaments-tab" data-bs-toggle="tab" data-bs-target="#tournaments-content" type="button" role="tab">Tournaments</button>
                    </li>
                </ul>

                <style>
                    .nav-tabs
                    {
                        border-bottom: 1px solid var(--color-base-04);
                    }

                    .nav-link
                    {
                        border-color: none;
                    }

                    .nav-link
                    {
                        font-family: 'Font_TDC';
                        color: var(--color-primary-00) !important;
                        font-size: 1.5rem;
                        border-color: none;
                    }

                    .nav-link.active
                    {
                        background-color: var(--color-base-02) !important;
                        color: var(--color-accent-0) !important;
                        box-shadow: inset 0 -2rem 1rem -2rem var(--color-accent-0);
                        border: none !important;
                    }

                    .nav-link:hover
                    {
                        border: solid 1px var(--color-primary-00) !important;
                        box-shadow: inset 0 -2rem 1rem -2rem var(--color-primary-00);
                    }
                </style>

                <div class="tab-content" id="competitionTabsContent">
                    <div class="tab-pane fade show active" id="matches-content" role="tabpanel">
                        <div id="container-matches">
                            <table id="tbl-matches">
                                <tbody>
                                    <tr class="match-row unstyled">
                                        <td class="match-status-bullet"></td>
                                        <td class="match-date">
                                            <p id="match-date">00/00</p>
                                        </td>
                                        <td class="match-opponent-pp">
                                            <img src="/resources/icons/icon_player.svg" alt="Opponent Profile Picture">
                                        </td>
                                        <td class="match-opponent-info">
                                            <p class="match-opponent-displayName">Display Name</p>
                                            <p class="match-opponent-username">Username</p>
                                        </td>
                                        <td class="match-score">
                                            <p id="match-score">0 - 0</p>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <th colspan="5">
                                            <div id="matches-pagination-controls">                                            
                                                <a id="matches-pagination-prev"><i class="bi bi-arrow-left"></i></a>
                                                <p id="matches-pagination">1-10 of 100</p>
                                                <a id="matches-pagination-next"><i class="bi bi-arrow-right"></i></a>
                                            </div>
                                        </th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="leagues-content" role="tabpanel">
                        <table id="tbl-user-leagues">
                            <tbody>
                                <tr>
                                    <td class="league-status-bullet"></td>
                                    <td class="league-dates">
                                        <p class="league-date" id="league-date-start">00/00/00</p>
                                        <p class="league-date" id="league-date-end">00/00/00</p>
                                    </td>
                                    <td class="league-pp">
                                        <img src="/resources/icon_theDiveClub_alpha.svg" alt="League Profile Picture">
                                    </td>
                                    <td class="league-info">
                                        <p class="league-name">League Name</p>
                                        <p class="league-coordinator">Coordinator Name</p>
                                    </td>
                                    <td class="league-players-count">
                                        <p class="league-players">0 Players</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="tournaments-content" role="tabpanel">
                        <table id="tbl-user-tournaments">
                            <tbody>
                                <tr>
                                    <td class="tournament-status-bullet"></td>
                                    <td class="tournament-start">
                                        <p class="tournament-date" id="tournament-date">00/00/00</p>
                                        <p class="tournament-date" id="tournament-time">00/00/00</p>
                                    </td>
                                    <td class="tournament-info">
                                        <p class="tournament-name">Tournament Name</p>
                                        <p class="tournament-coordinator">Coordinator Name</p>
                                    </td>
                                    <td class="tournament-players-count">
                                        <p class="tournament-players">0 Players</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <style>
        #container-profile
        {
            padding: 0.5rem;
            margin: 0rem;
            width: 100%;
        }

        #container-profile-pp
        {
            margin: auto;
        }

        #user-pp
        {
            width: 100%;
            height: auto;
            object-fit: contain;
            border-radius: 50%;
            box-shadow: 0 0 24px var(--color-base-00);
        }

        #container-profile-info
        {
            text-align: center;
        }

        #user-displayName
        {
            font-family: 'Font_TDC';
            font-size: 2rem;
            margin-top: 0.25rem;
            margin-bottom: 0rem;
        }

        #user-name, #user-username
        {
            margin: 0rem;
        }

        #user-username
        {
            color: var(--color-base-08);
            font-style: italic;
            font-size: 0.75rem;
        }

        #link-edit-profile
        {
            display: block;
            margin: 1rem;
            background-color: var(--color-primary-00);
            color: var(--color-base-10);
            border-radius: 0.5rem;
        }
    </style>

    <style>
        .tbl-user-stats
        {
            text-align: center;
            font-family: 'Font_TDC';
            font-size: 1.25rem;
            margin: auto;
            margin-top: 0.5rem;
        }

        .tbl-user-stats td
        {
            border: 1px solid var(--color-base-04);
            width: 50%;
            padding: 0.5rem;
        }

        .tbl-user-stats th
        {
            border: 1px solid var(--color-base-04);
            width: 50%;
            padding: 0.5rem;
            font-weight: lighter;
        }

        #user-fw, #user-mw
        {
            font-size: 1.5rem;
            color: var(--color-accent-0);
            padding: 0.5rem 1rem;
        }

        #user-fpercent, #user-mpercent, #user-bf
        {
            font-size: 1.5rem;
            color: var(--color-primary-00);
            padding: 0.5rem;
        }

        #user-bf
        {
            font-size: 1.5rem;
            color: var(--color-highlight-0);
            padding: 0.5rem 1rem;
        }

        #user-avg-frame-time
        {
            font-size: 1.5rem;
            color: var(--color-secondary-00);
            padding: 0.5rem 1rem;
        }
    </style>

    <style>        

        .col-md-9
        {
            padding: 0rem;
        }

        #matches-pagination-controls
        {
            display: flex;
            justify-content: center;
        }

        #matches-pagination
        {
            margin: 0rem 0.5rem;
        }
    </style>

    <style>
        #tbl-matches
        {
            margin: 0rem;
            padding: 0rem;
        }

        #tbl-matches th, #tbl-user-leagues th
        {
            padding: 0.5rem;
            text-align: center;
            font-size: 1.5rem;
            font-family: 'Font_TDC';
        }

        #tbl-matches td
        {
            margin: 0rem;
            padding: 0.5rem 0.25rem;
            text-align: center;
        }

        .match-row
        {
            background-color: var(--color-base-03);
            border: 1px solid var(--color-base-02);
        }

        .match-entry
        {
            padding: 0.25rem 0rem;
        }

        .match-status-bullet
        {
            background-color: var(--color-primary-00);
            padding: 0rem;
            margin: 0rem;
            width: 1rem;
        }

        .match-opponent-pp
        {
            width: 3rem;
        }

        .match-opponent-pp img
        {
            max-height: 3rem;
            max-width: 3rem;
            border-radius: 50%;
            box-shadow: 0 0 12px var(--color-base-00);
        }

        .match-opponent-info p
        {
            margin: 0rem;
            text-align: left;
            padding-left: 0.5rem;
        }

        .match-opponent-displayName
        {
            font-family: 'Font_TDC';
            font-size: 1.25rem;
        }

        .match-opponent-username
        {
            font-size: 0.75rem;
            color: var(--color-base-08);
            font-style: italic;
            white-space: normal;
            overflow-wrap: anywhere;
            word-wrap: break-word;
        }

        .match-date p, .match-score p
        {
            margin: 0rem;
            white-space: normal;
            overflow-wrap: anywhere;
            word-wrap: break-word;
            font-size: 0.5rem;
        }

        #match-score
        {
            font-family: 'Font_TDC';
            font-size: 1.5rem;
            padding: 0rem 0.5rem;
        }

        .match-score:hover
        {
            cursor: pointer;
            box-shadow: inset 0 0 0.5rem var(--color-highlight-0);
            transition: box-shadow 0.1s ease-in-out;
            border-radius: 0.5rem;
        }

        .match-user-fw-win
        {
            color: var(--color-primary-00);
            padding-left: 0.25rem;
        }

        .match-user-fw-loss
        {
            color: var(--color-secondary-00);
            padding-left: 0.25rem;
        }

        .match-user-fw-draw
        {
            color: var(--color-base-08);
            padding-left: 0.25rem;
        }
    </style>

    <style>
        #tbl-user-leagues td, #tbl-user-tournaments td
        {
            padding: 0.5rem;
            text-align: center;
        }

        .league-status-bullet, .tournament-status-bullet
        {
            background-color: var(--color-primary-00);
            padding: 0rem;
            margin: 0rem;
            width: 1rem;
        }

        .league-date, .tournament-date, .tournament-time
        {
            margin: 0rem;
        }

        .league-pp img
        {
            max-height: 3rem;
            max-width: 3rem;
        }

        .league-info p, .tournament-info p
        {
            margin: 0rem;
            text-align: left;
        }

        .league-name, .tournament-name
        {
            font-family: 'Font_TDC';
            font-size: 1.25rem;
            margin: 0rem;
        }

        .league-coordinator, .tournament-coordinator
        {
            font-size: 0.75rem;
            color: var(--color-base-08);
            font-style: italic;
            margin: 0rem;
        }
    </style>



    <div id="component-siteMap"></div>

    <div id="component-footer"></div>

    <!-- Supabase -->
    <script src="/scripts/supabase/supaBase_client.js"></script>

    <!-- Accounts -->
    <script src="/scripts/accounts/login_email.js"></script>
    <script src="/scripts/accounts/login_google.js"></script>
    <script src="/scripts/accounts/signOut.js"></script>

    <!--Scripts-->
    <script src="/scripts/browserHelpers/script_includeComponents.js"></script>
    <script src="/scripts/UIControllers/nav-bar_controller.js" type="module"></script>

    <script src="/scripts/VFX/bg_anim_ColorGradient.js"></script>
    <script src="/scripts/VFX/bg_anim_PoolVisualization.js"></script>

    <script src="/scripts/UIControllers/profile-mini-controller.js" type="module"></script>

    <script src="/scripts/accounts/data_user.js" type="module"></script>

    <script src="/scripts/accounts/profile_new.js" type="module"></script>
</body>
</html>